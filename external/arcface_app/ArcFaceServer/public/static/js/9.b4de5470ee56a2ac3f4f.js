webpackJsonp([9],{dHkv:function(t,e){},nJzi:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={name:"firstLogin",data:function(){return{confirmDirty:!1,autoCompleteResult:[],formItemLayout:{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},tailFormItemLayout:{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}}}},mounted:function(){console.log(this.$i18n.locale),this.getLanguage()},computed:{accountLabel:function(){return this.$t("firstLogin.accountName")},pwdLabel:function(){return this.$t("firstLogin.pwdLabel")},requireMessage:function(){return this.$t("firstLogin.required")},pwdMsg:function(){return this.$t("firstLogin.pwdMsg")},confirmLabel:function(){return this.$t("firstLogin.confirmLabel")},inconsistentPwd:function(){return this.$t("firstLogin.inconsistentPwd")}},beforeCreate:function(){this.form=this.$form.createForm(this,{name:"register"})},methods:{getLanguage:function(){var t=this;this.$axios.get("getLanguage").then(function(e){if(0===e.data.retCode){var a=e.data.info;t.$i18n.locale="zh_CN"===a.lang?"zh":"en",t.$store.commit("setLanguage",a.lang)}})},handleSubmit:function(t){var e=this;t.preventDefault(),this.form.validateFieldsAndScroll(function(t,a){if(!t){console.log("Received values of form: ",a);var r=e;e.$axios.patch("resetAdminPassword",{accountName:"Admin",accountPassword:a.password}).then(function(t){0===t.data.retCode&&r.$router.replace("/login")})}})},handleConfirmBlur:function(t){var e=t.target.value;this.confirmDirty=this.confirmDirty||!!e},compareToFirstPassword:function(t,e,a){var r=this.form;e&&e!==r.getFieldValue("password")?a("密码不一致"):a()},validateToNextPassword:function(t,e,a){var r=this.form;e&&this.confirmDirty&&r.validateFields(["confirm"],{force:!0}),a()}},components:{Background:a("xrEL").a}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"first-login"},[a("background",[a("div",{staticClass:"form",class:{en:"en_US"===t.$store.state.language},attrs:{slot:"form"},slot:"form"},[a("div",{staticClass:"form-title"},[t._v(t._s(t.$t("firstLogin.setPwd")))]),t._v(" "),a("a-form",{staticClass:"firstLogin",attrs:{form:t.form,hideRequiredMark:!0,labelAlign:"left"},on:{submit:t.handleSubmit}},[a("a-form-item",{attrs:{label:t.accountLabel}},[a("span",{staticClass:"admin"},[t._v("Admin")])]),t._v(" "),a("a-form-item",t._b({staticClass:"lefta",attrs:{label:t.pwdLabel}},"a-form-item",t.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:t.requireMessage},{pattern:/^(?=.*[0-9].*)(?=.*[A-Z].*)(?=.*[a-z].*).{6,8}$/,message:t.pwdMsg},{validator:t.validateToNextPassword}],validateTrigger:"blur"}],expression:"[\n              'password',\n              {\n                rules: [\n                  {\n                    required: true,\n                    message: requireMessage,\n                  },\n                  {\n                    pattern: /^(?=.*[0-9].*)(?=.*[A-Z].*)(?=.*[a-z].*).{6,8}$/,\n                    message: pwdMsg,\n                  },\n                  {\n                    validator: validateToNextPassword,\n                  },\n                ],\n                validateTrigger: 'blur',\n              },\n            ]"}],attrs:{type:"password"}}),t._v(" "),a("span",{staticClass:"tip"},[t._v(t._s(t.$t("firstLogin.pwdValidMsg")))])],1),t._v(" "),a("a-form-item",t._b({staticClass:"lefta",attrs:{label:t.confirmLabel}},"a-form-item",t.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["confirm",{rules:[{required:!0,message:t.inconsistentPwd},{validator:t.compareToFirstPassword}],validateTrigger:"blur"}],expression:"[\n              'confirm',\n              {\n                rules: [\n                  {\n                    required: true,\n                    message: inconsistentPwd,\n                  },\n                  {\n                    validator: compareToFirstPassword,\n                  },\n                ],\n                validateTrigger: 'blur',\n              },\n            ]"}],attrs:{type:"password"},on:{blur:t.handleConfirmBlur}})],1),t._v(" "),a("a-button",{staticClass:"btn",attrs:{block:"",type:"primary","html-type":"submit"}},[t._v("\n          "+t._s(t.$t("firstLogin.confirm"))+"\n        ")])],1)],1)])],1)},staticRenderFns:[]};var s=a("VU/8")(r,n,!1,function(t){a("dHkv")},"data-v-2d732978",null);e.default=s.exports},x7Vi:function(t,e){},xrEL:function(t,e,a){"use strict";var r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"background"},[e("div",{staticClass:"title"},[this._v("\n    ArcFaceGo "+this._s(this.$t("login.ArcFaceGo"))+"\n  ")]),this._v(" "),this._t("form")],2)},staticRenderFns:[]};var n=a("VU/8")({name:"background",data:function(){return{}}},r,!1,function(t){a("x7Vi")},"data-v-af1e2800",null);e.a=n.exports}});
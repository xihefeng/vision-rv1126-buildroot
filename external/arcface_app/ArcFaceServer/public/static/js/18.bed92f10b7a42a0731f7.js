webpackJsonp([18],{"h+WF":function(e,t){},rjK7:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"equipment-active"},[e.flag?a("a-form",{staticClass:"active-form",attrs:{form:e.form,hideRequiredMark:!0,labelAlign:"left"}},[a("a-form-item",{staticClass:"id toRight",attrs:{label:"APP_ID"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["appId",{rules:[{required:!0,message:e.requireMessage}],validateTrigger:"blur"}],expression:"[\n          'appId',\n          {\n            rules: [{ required: true, message: requireMessage }],\n            validateTrigger: 'blur',\n          },\n        ]"}],staticStyle:{"border-color":"white","background-color":"white"},attrs:{disabled:"",maxLength:50}})],1),e._v(" "),a("a-form-item",{staticClass:"key toRight",attrs:{label:"SDK_KEY"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["sdkKey",{rules:[{required:!0,message:e.requireMessage}],validateTrigger:"blur"}],expression:"[\n          'sdkKey',\n          {\n            rules: [{ required: true, message: requireMessage }],\n            validateTrigger: 'blur',\n          },\n        ]"}],staticStyle:{"border-color":"white","background-color":"white"},attrs:{disabled:"",maxLength:50}})],1),e._v(" "),a("a-form-item",{staticClass:"active toRight",attrs:{label:"ACTIVE_KEY"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["activeKey",{rules:[{required:!0,message:e.requireMessage}],validateTrigger:"blur"}],expression:"[\n          'activeKey',\n          {\n            rules: [{ required: true, message: requireMessage }],\n            validateTrigger: 'blur',\n          },\n        ]"}],staticStyle:{"border-color":"white","background-color":"white"},attrs:{disabled:"",maxLength:50},on:{input:e.activeKeyInput}})],1),e._v(" "),a("a-form-item",{staticClass:"activeBtn",attrs:{label:" ",colon:!1}},[a("a-button",{staticClass:"button",attrs:{type:"primary",loading:e.loading},on:{click:e.editFun}},[e._v("\n        "+e._s(e.$t("equipmentActive.edit"))+"\n      ")])],1)],1):a("a-form",{staticClass:"active-form",attrs:{form:e.form,hideRequiredMark:!0,labelAlign:"left"},on:{submit:e.handleSubmit}},[a("a-form-item",{staticClass:"id toRight",attrs:{label:"APP_ID"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["appId",{rules:[{required:!0,message:e.requireMessage}],validateTrigger:"blur"}],expression:"[\n          'appId',\n          {\n            rules: [{ required: true, message: requireMessage }],\n            validateTrigger: 'blur',\n          },\n        ]"}],attrs:{maxLength:50}})],1),e._v(" "),a("a-form-item",{staticClass:"key toRight",attrs:{label:"SDK_KEY"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["sdkKey",{rules:[{required:!0,message:e.requireMessage}],validateTrigger:"blur"}],expression:"[\n          'sdkKey',\n          {\n            rules: [{ required: true, message: requireMessage }],\n            validateTrigger: 'blur',\n          },\n        ]"}],attrs:{maxLength:50}})],1),e._v(" "),a("a-form-item",{staticClass:"active toRight",attrs:{label:"ACTIVE_KEY"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["activeKey",{rules:[{required:!0,message:e.requireMessage}],validateTrigger:"blur"}],expression:"[\n          'activeKey',\n          {\n            rules: [{ required: true, message: requireMessage }],\n            validateTrigger: 'blur',\n          },\n        ]"}],attrs:{maxLength:50},on:{input:e.activeKeyInput}})],1),e._v(" "),a("a-form-item",{staticClass:"activeBtn",attrs:{label:" ",colon:!1}},[a("a-button",{staticClass:"button",attrs:{type:"primary","html-type":"submit",loading:e.loading}},[e._v("\n       "+e._s(e.$t("equipmentActive.active"))+"\n      ")])],1)],1),e._v(" "),a("a-modal",{staticClass:"activeSuccess",attrs:{visible:e.successMessageVisible,centered:!0,closable:!1,width:182,footer:null}},[a("div",{staticClass:"content"},[a("span",{staticClass:"iconfont iconziyuan2"}),e._v(" "),a("div",[e._v(e._s(e.$t("equipmentActive.activeOk")))])])]),e._v(" "),a("a-modal",{staticClass:"activeFail",attrs:{visible:e.failMessageVisible,centered:!0,closable:!1,width:182,footer:null}},[a("div",{staticClass:"content"},[a("span",{staticClass:"iconfont iconziyuan13"}),e._v(" "),a("div",[e._v(e._s(e.$t("equipmentActive.activeFail")))])])])],1)},staticRenderFns:[]};var s=a("VU/8")({name:"equipmentActive",data:function(){return{successMessageVisible:!1,failMessageVisible:!1,loading:!1,flag:!1}},computed:{requireMessage:function(){return this.$t("equipmentActive.required")}},beforeCreate:function(){this.form=this.$form.createForm(this,{name:"active"})},mounted:function(){this.getActivedMsg()},methods:{editFun:function(e){e.preventDefault(),this.flag=!1},getActivedMsg:function(){var e=this,t=this;this.$axios.get("getSDKInfo").then(function(a){0===a.data.retCode?(t.form.setFieldsValue({appId:a.data.info.appid,sdkKey:a.data.info.sdkkey,activeKey:a.data.info.activekey}),a.data.info.appid&&a.data.info.sdkkey&&a.data.info.activekey?e.flag=!0:e.flag=!1):a.data.info&&1101!==a.data.info.code&&(e.$message.destroy(),e.$message.error(a.data.retMsg))})},activeKeyInput:function(e){this.form.setFieldsValue({activeKey:e.target.value.replace(/\s/g," ").replace(/([0-9a-zA-Z]{4})(?=\d)/g,"$1-")})},handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields(function(e,a){e||(t.loading=!0,t.$axios.patch("setSDKInfo",{cmd:"setsdkinfo",appid:a.appId.replace(/\s+/g,""),sdkkey:a.sdkKey.replace(/\s+/g,""),activekey:a.activeKey.replace(/\s+/g,"")}).then(function(e){t.loading=!1,0===e.data.retCode?(t.$message.destroy(),t.$message.success(t.$t("equipmentActive.activeOk"))):(t.$message.destroy(),t.$message.error(e.data.info.message))}))})}}},i,!1,function(e){a("h+WF")},"data-v-5573befc",null);t.default=s.exports}});